import"../chunks/DsnmJJEf.js";import{i as D}from"../chunks/D-A7yCOM.js";import{o as I,e as L,s as y}from"../chunks/BDJC6Cp_.js";import{p as M,f as v,s as p,a as N,g as o,b as c,d as z,c as d,e as r,m,n as w,r as g,t as k}from"../chunks/BDVzeZar.js";import{i as x}from"../chunks/DE00MdZp.js";import{r as S}from"../chunks/Cs6Urel8.js";import{b as T}from"../chunks/CTeKP5p8.js";import{g as U}from"../chunks/ccQLpX6y.js";var A=v('<p style="color:red"> </p>'),B=v('<p style="color:green"> </p>'),E=v('<h1>Sign Up</h1> <form><input placeholder="Username" required/> <input type="password" placeholder="Password" required/> <button type="submit">Sign Up</button></form> <!> <!> <p>Ja tem uma conta? <a href="/login">Login</a></p>',1);function X(j,q){M(q,!1);let l=m(""),f=m(""),s=m(""),n=m("");I(()=>{localStorage.getItem("token")&&U("/")});async function J(t){t.preventDefault(),r(s,""),r(n,"");const e=await fetch("http://localhost:3000/api/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:o(l),password:o(f)})}),a=await e.json();e.ok?(r(n,a.message),setTimeout(()=>U("/login"),1e3)):r(s,a.error)}D();var _=E(),i=p(N(_),2),u=d(i);S(u);var h=p(u,2);S(h),w(2),g(i);var b=p(i,2);{var O=t=>{var e=A(),a=d(e,!0);g(e),k(()=>y(a,o(s))),c(t,e)};x(b,t=>{o(s)&&t(O)})}var P=p(b,2);{var C=t=>{var e=B(),a=d(e,!0);g(e),k(()=>y(a,o(n))),c(t,e)};x(P,t=>{o(n)&&t(C)})}w(2),T(u,()=>o(l),t=>r(l,t)),T(h,()=>o(f),t=>r(f,t)),L("submit",i,J),c(j,_),z()}export{X as component};
